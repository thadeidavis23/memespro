<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#1a1a1a">
    <title>Meme Viber - Text Story Editor</title>
    <link rel="stylesheet" href="meme.css">
</head>
<body>
    <!-- Fullscreen Board -->
    <div id="board" class="board" style="background-color: #3498db;">
        <!-- Text layers will be dynamically added here -->
    </div>

    <!-- Color Picker Overlay -->
    <div class="color-picker-container">
        <div class="color-grid" id="colorGrid">
            <div class="color-option" data-color="#3498db" style="background-color: #3498db;"></div>
            <div class="color-option" data-color="#e74c3c" style="background-color: #e74c3c;"></div>
            <div class="color-option" data-color="#2ecc71" style="background-color: #2ecc71;"></div>
            <div class="color-option" data-color="#f39c12" style="background-color: #f39c12;"></div>
            <div class="color-option" data-color="#9b59b6" style="background-color: #9b59b6;"></div>
            <div class="color-option" data-color="#1abc9c" style="background-color: #1abc9c;"></div>
            <div class="color-option" data-color="#34495e" style="background-color: #34495e;"></div>
            <div class="color-option" data-color="#ecf0f1" style="background-color: #ecf0f1;"></div>
            <div class="color-option" data-color="#16a085" style="background-color: #16a085;"></div>
            <div class="color-option" data-color="#c0392b" style="background-color: #c0392b;"></div>
        </div>
    </div>

    <!-- Control Buttons -->
    <button id="closeBtn" class="btn btn-close" title="Close">‚úï</button>
    <button id="doneBtn" class="btn btn-done" title="Done">‚úì</button>
    <button id="shareBtn" class="btn btn-share" title="Share" disabled>Share</button>
    <button id="addTextBtn" class="btn btn-add-text" title="Add Text">+T</button>

    <!-- Sticker/Emoji Buttons -->
    <div class="sticker-bar">
        <button class="sticker-btn" data-sticker="üòÇ">üòÇ</button>
        <button class="sticker-btn" data-sticker="‚ù§Ô∏è">‚ù§Ô∏è</button>
        <button class="sticker-btn" data-sticker="üî•">üî•</button>
        <button class="sticker-btn" data-sticker="üëç">üëç</button>
        <button class="sticker-btn" data-sticker="‚ú®">‚ú®</button>
    </div>

    <!-- Share Modal -->
    <div id="shareModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Share Your Meme</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="share-options">
                <button class="share-option" id="downloadBtn">
                    <span class="icon">‚¨áÔ∏è</span>
                    <span>Download</span>
                </button>
                <button class="share-option" id="whatsappBtn">
                    <span class="icon">üí¨</span>
                    <span>WhatsApp</span>
                </button>
                <button class="share-option" id="facebookBtn">
                    <span class="icon">üë•</span>
                    <span>Facebook</span>
                </button>
                <button class="share-option" id="twitterBtn">
                    <span class="icon">ùïè</span>
                    <span>Twitter</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Text Formatting Toolbar (appears on text selection) -->
    <div class="text-toolbar hidden" id="textToolbar">
        <button class="toolbar-btn" id="increaseFontBtn" title="Increase Font Size">A+</button>
        <button class="toolbar-btn" id="decreaseFontBtn" title="Decrease Font Size">A-</button>
        <input type="color" id="textColorPicker" class="toolbar-input" title="Text Color">
        <button class="toolbar-btn" id="alignLeftBtn" title="Align Left">‚¨Ö</button>
        <button class="toolbar-btn" id="alignCenterBtn" title="Align Center">‚¨á‚¨Ü</button>
        <button class="toolbar-btn" id="alignRightBtn" title="Align Right">‚û°</button>
        <button class="toolbar-btn" id="deleteTextBtn" title="Delete">üóë</button>
    </div>

    <!-- Hidden Canvas for Export -->
    <canvas id="exportCanvas" style="display: none;"></canvas>

    <!-- Watermark Image (optional - can be replaced with URL) -->
    <img id="watermarkImg" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='40'%3E%3Ctext x='10' y='25' font-size='20' fill='white' font-family='Arial'%3EMeme Viber%3C/text%3E%3C/svg%3E" style="display: none;">

    <script src="meme.js"></script>
</body>
</html>
